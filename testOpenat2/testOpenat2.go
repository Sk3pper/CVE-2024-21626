package main

import (
	"fmt"

	"golang.org/x/sys/unix"
)

func main() {
	// Define the arguments for unix.Openat2.
	// As we are only checking for the presence of the syscall, the arguments can be dummy values.
	path := ""
	how := &unix.OpenHow{}

	// Attempt to call unix.Openat2.
	_, err := unix.Openat2(-1, path, how)

	// Check if the error is due to the syscall not being present.
	if err == unix.ENOSYS {
		fmt.Println("The unix.Openat2 syscall is not present on this system.")
	} else {
		// If the error is not ENOSYS, the syscall is present (other errors may still occur).
		fmt.Println("The unix.Openat2 syscall is present on this system.")
	}
}
